{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport SlimSelect from 'slim-select';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_7zO2UtHss6WanH1oLQ1vnbzQS31rHHFk6zvi69lyordiqDagXpIxykJooBldDqh8';\n\n// Helper functions\nfunction showLoader() {\n  showElement('.loader');\n}\n\nfunction hideLoader() {\n  hideElement('.loader');\n}\n\nfunction showElement(selector) {\n  document.querySelector(selector).classList.remove('hidden');\n}\n\nfunction hideElement(selector) {\n  document.querySelector(selector).classList.add('hidden');\n}\n\nfunction handleFetchError() {\n  showElement('.error');\n  setTimeout(() => {\n    hideElement('.error');\n  }, 5000); // Hide error after 5 seconds, adjust as needed\n}\n\nexport function fetchBreeds() {\n  showLoader();\n  hideElement('.cat-info');\n  hideElement('.error');\n\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => {\n      hideLoader();\n      showElement('.breed-select');\n      const breedSelect = new SlimSelect({\n        select: '.breed-select',\n        placeholder: 'Select a breed',\n        data: response.data.map(breed => ({\n          text: breed.name,\n          value: breed.id,\n        })),\n      });\n      return response.data;\n    })\n    .catch(error => {\n      console.error('Error fetching cat breeds:', error);\n      handleFetchError();\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  showLoader();\n  hideElement('.breed-select');\n  hideElement('.cat-info');\n  hideElement('.error');\n\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n  return axios\n    .get(url)\n    .then(response => {\n      hideLoader();\n      showElement('.cat-info');\n      return response.data;\n    })\n    .catch(error => {\n      console.error('Error fetching cat by breed:', error);\n      handleFetchError();\n      throw error;\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport iziToast from 'izitoast';\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  const breedSelect = document.querySelector('.breed-select');\n  const catInfoDiv = document.querySelector('.cat-info');\n\n  try {\n    const breeds = await fetchBreeds();\n\n    breedSelect.addEventListener('change', async function () {\n      const selectedBreedId = breedSelect.value;\n      const catData = await fetchCatByBreed(selectedBreedId);\n\n      catInfoDiv.innerHTML = `\n        <p><strong>Breed:</strong> ${catData[0].breeds[0].name}</p>\n        <p><strong>Description:</strong> ${catData[0].breeds[0].description}</p>\n        <p><strong>Temperament:</strong> ${catData[0].breeds[0].temperament}</p>\n        <img src=\"${catData[0].url}\" alt=\"Cat Image\">\n      `;\n    });\n  } catch (error) {\n    console.error('Error:', error);\n    showErrorToast('Oops! Something went wrong! Try reloading the page!');\n  }\n});\n\nfunction showErrorToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n    timeout: 5000,\n  });\n}\n"],"names":["axios","showLoader","showElement","hideLoader","hideElement","selector","handleFetchError","fetchBreeds","response","SlimSelect","breed","error","fetchCatByBreed","breedId","url","breedSelect","catInfoDiv","breeds","selectedBreedId","catData","showErrorToast","message","iziToast"],"mappings":"owBAGAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAGF,SAASC,GAAa,CACpBC,EAAY,SAAS,CACvB,CAEA,SAASC,GAAa,CACpBC,EAAY,SAAS,CACvB,CAEA,SAASF,EAAYG,EAAU,CAC7B,SAAS,cAAcA,CAAQ,EAAE,UAAU,OAAO,QAAQ,CAC5D,CAEA,SAASD,EAAYC,EAAU,CAC7B,SAAS,cAAcA,CAAQ,EAAE,UAAU,IAAI,QAAQ,CACzD,CAEA,SAASC,GAAmB,CAC1BJ,EAAY,QAAQ,EACpB,WAAW,IAAM,CACfE,EAAY,QAAQ,CACrB,EAAE,GAAI,CACT,CAEO,SAASG,GAAc,CAC5B,OAAAN,IACAG,EAAY,WAAW,EACvBA,EAAY,QAAQ,EAEbJ,EACJ,IAAI,qCAAqC,EACzC,KAAKQ,IACJL,IACAD,EAAY,eAAe,EACP,IAAIO,EAAW,CACjC,OAAQ,gBACR,YAAa,iBACb,KAAMD,EAAS,KAAK,IAAIE,IAAU,CAChC,KAAMA,EAAM,KACZ,MAAOA,EAAM,EACvB,EAAU,CACV,CAAO,EACMF,EAAS,KACjB,EACA,MAAMG,GAAS,CACd,cAAQ,MAAM,6BAA8BA,CAAK,EACjDL,IACMK,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvCZ,IACAG,EAAY,eAAe,EAC3BA,EAAY,WAAW,EACvBA,EAAY,QAAQ,EAEpB,MAAMU,EAAM,wDAAwDD,IACpE,OAAOb,EACJ,IAAIc,CAAG,EACP,KAAKN,IACJL,IACAD,EAAY,WAAW,EAChBM,EAAS,KACjB,EACA,MAAMG,GAAS,CACd,cAAQ,MAAM,+BAAgCA,CAAK,EACnDL,IACMK,CACZ,CAAK,CACL,CCzEA,SAAS,iBAAiB,mBAAoB,gBAAkB,CAC9D,MAAMI,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,SAAS,cAAc,WAAW,EAErD,GAAI,CACF,MAAMC,EAAS,MAAMV,IAErBQ,EAAY,iBAAiB,SAAU,gBAAkB,CACvD,MAAMG,EAAkBH,EAAY,MAC9BI,EAAU,MAAMP,EAAgBM,CAAe,EAErDF,EAAW,UAAY;AAAA,qCACQG,EAAQ,GAAG,OAAO,GAAG;AAAA,2CACfA,EAAQ,GAAG,OAAO,GAAG;AAAA,2CACrBA,EAAQ,GAAG,OAAO,GAAG;AAAA,oBAC5CA,EAAQ,GAAG;AAAA,OAE/B,CAAK,CACF,OAAQR,EAAP,CACA,QAAQ,MAAM,SAAUA,CAAK,EAC7BS,EAAe,qDAAqD,CACrE,CACH,CAAC,EAED,SAASA,EAAeC,EAAS,CAC/BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,WACV,QAAS,GACb,CAAG,CACH"}