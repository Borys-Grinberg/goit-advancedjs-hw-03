{"version":3,"file":"commonHelpers.js","sources":["../src/cat_api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey =\n  'live_7zO2UtHss6WanH1oLQ1vnbzQS31rHHFk6zvi69lyordiqDagXpIxykJooBldDqh8';\n\naxios.defaults.headers.common['x-api-key'] = apiKey;\n\nexport function fetchBreeds() {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data);\n}\n\nexport function fetchCatByBreed(breedId) {\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n  return axios.get(url).then(response => response.data);\n}\n","import SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './cat_api';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfoDiv = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nlet selectedBreedId;\n\nconst slim = new SlimSelect({\n  select: breedSelect,\n});\n\nslim.setData([]);\nbreedSelect.classList.add('hidden');\n\nshowLoader();\n\nfetchBreeds()\n  .then(breeds => {\n    slim.setData(breeds.map(breed => ({ text: breed.name, value: breed.id })));\n\n    hideLoader();\n  })\n  .catch(error => {\n    console.error('Error fetching cat breeds:', error);\n    showErrorToast('Oops! Something went wrong! Try reloading the page!');\n  });\n\nbreedSelect.addEventListener('change', function () {\n  selectedBreedId = breedSelect.value;\n\n  showLoader();\n\n  fetchCatByBreed(selectedBreedId)\n    .then(catData => {\n      if (\n        catData &&\n        Array.isArray(catData) &&\n        catData.length > 0 &&\n        catData[0].breeds &&\n        catData[0].breeds.length > 0\n      ) {\n        const catBreed = catData[0].breeds[0];\n\n        catInfoDiv.innerHTML = `\n          <div class=\"cat-info-inner\">\n            <img src=\"${catData[0].url}\" alt=\"Cat Image\" class=\"cat-image\">\n            <div class=\"cat-details\">\n              <h2>${catBreed.name}</h2>\n              <p class=\"description\">${catBreed.description}</p>\n              <p><strong>Temperament:</strong> ${catBreed.temperament}</p>\n            </div>\n          </div>\n        `;\n      } else {\n        showErrorToast(\n          'Oops! Unable to retrieve cat information. Please try again.'\n        );\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching cat information:', error);\n      showErrorToast('Oops! Something went wrong! Try reloading the page!');\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n  catInfoDiv.style.display = 'none';\n  breedSelect.style.display = 'none';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n  catInfoDiv.style.display = 'flex';\n  breedSelect.style.display = 'block';\n}\n\nfunction showErrorToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n    timeout: 5000,\n  });\n}\n"],"names":["apiKey","axios","fetchBreeds","response","fetchCatByBreed","breedId","url","breedSelect","catInfoDiv","loader","selectedBreedId","slim","SlimSelect","showLoader","breeds","breed","hideLoader","error","showErrorToast","catData","catBreed","message"],"mappings":"wvBAEA,MAAMA,EACJ,wEAEFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAEtC,SAASE,GAAc,CAC5B,OAAOD,EACJ,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,CACnC,CAEO,SAASC,EAAgBC,EAAS,CACvC,MAAMC,EAAM,wDAAwDD,IACpE,OAAOJ,EAAM,IAAIK,CAAG,EAAE,KAAKH,GAAYA,EAAS,IAAI,CACtD,CCbA,MAAMI,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJ,MAAMC,EAAO,IAAIC,EAAW,CAC1B,OAAQL,CACV,CAAC,EAEDI,EAAK,QAAQ,CAAA,CAAE,EACfJ,EAAY,UAAU,IAAI,QAAQ,EAElCM,IAEAX,EAAa,EACV,KAAKY,GAAU,CACdH,EAAK,QAAQG,EAAO,IAAIC,IAAU,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAI,EAAC,CAAC,EAEzEC,GACJ,CAAG,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,6BAA8BA,CAAK,EACjDC,EAAe,qDAAqD,CACxE,CAAG,EAEHX,EAAY,iBAAiB,SAAU,UAAY,CACjDG,EAAkBH,EAAY,MAE9BM,IAEAT,EAAgBM,CAAe,EAC5B,KAAKS,GAAW,CACf,GACEA,GACA,MAAM,QAAQA,CAAO,GACrBA,EAAQ,OAAS,GACjBA,EAAQ,GAAG,QACXA,EAAQ,GAAG,OAAO,OAAS,EAC3B,CACA,MAAMC,EAAWD,EAAQ,GAAG,OAAO,GAEnCX,EAAW,UAAY;AAAA;AAAA,wBAEPW,EAAQ,GAAG;AAAA;AAAA,oBAEfC,EAAS;AAAA,uCACUA,EAAS;AAAA,iDACCA,EAAS;AAAA;AAAA;AAAA,SAI1D,MACQF,EACE,6DACV,CAEA,CAAK,EACA,MAAMD,GAAS,CACd,QAAQ,MAAM,kCAAmCA,CAAK,EACtDC,EAAe,qDAAqD,CAC1E,CAAK,EACA,QAAQ,IAAM,CACbF,GACN,CAAK,CACL,CAAC,EAED,SAASH,GAAa,CACpBJ,EAAO,MAAM,QAAU,eACvBD,EAAW,MAAM,QAAU,OAC3BD,EAAY,MAAM,QAAU,MAC9B,CAEA,SAASS,GAAa,CACpBP,EAAO,MAAM,QAAU,OACvBD,EAAW,MAAM,QAAU,OAC3BD,EAAY,MAAM,QAAU,OAC9B,CAEA,SAASW,EAAeG,EAAS,CAC/B,SAAS,MAAM,CACb,MAAO,QACP,QAASA,EACT,SAAU,WACV,QAAS,GACb,CAAG,CACH"}